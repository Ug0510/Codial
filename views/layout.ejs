<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= title %>
    </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.min.js"></script>
    <link rel="stylesheet" href="/css/layout.css">
    <%- style %>
</head>
<body>

<%- include('_header') %>
<% if(flash.success && flash.success.length > 0) { %>
    <h5>
        <%= flash.success %>
    </h5>
<% } %>
    <%- body %>

<%- include('_footer') %>


<%- script %>
<script>
    <% if(flash.success && flash.success.length > 0) {%>
    new Noty({
        theme: 'relax',
        text: '<%= flash.success%>',
        type: 'success',
        layout: 'topRight',
        timeout: 1500
    }).show();
    <% } %>
    <% if(flash.error && flash.error.length > 0) {%>
    new Noty({
        theme: 'relax',
        text: '<%= flash.error%>',
        type: 'error',
        layout: 'topRight',
        timeout: 1500
    }).show();
    <% } %>

    // Function to create a flash message
    function displayFlashMessage(message, type) {
        new Noty({
            text: message,
            type: type, // Change this to match your message type (success, error, warning, etc.)
            timeout: 3000, // Adjust the timeout as needed
            progressBar: true, // Display a progress bar
            closeWith: ['click', 'button'], // Close the notification when clicked or using the close button
        }).show();
    }
</script>
</body>
</html>